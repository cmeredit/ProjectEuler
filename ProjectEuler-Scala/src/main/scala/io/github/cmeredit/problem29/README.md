# Distinct Powers

## Problem 29

> Consider all integer combinations of $a^b$ for $2 \leq a \leq 5$ and $2 \leq b \leq 5$:
> 
> $2^2 = 4$, $2^3 = 8$, $2^4 = 16$, $2^5 = 32$
> 
> $3^2 = 9$, $3^3 = 27$, $3^4 = 81$, $3^5 = 243"
> 
> $4^2 = 16$, $4^3 = 64$, $4^4 = 256$, $4^5 = 1024$
> 
> $5^2 = 25$, $5^3 = 125$, $5^4 = 625$, $5^5 = 3125$
> 
> If they are then placed in numerical order, with any repeats removed, we get the following sequence of 15 distinct terms:
> 
> 4, 8, 9, 16, 25, 27, 32, 64, 81, 125, 243, 256, 625, 1024, 3125
> 
> How many distinct terms are in the sequence generated by $a^b$ for $2 \leq a \leq 100$ and $2 \leq b \leq 100$?

---

### Reductions

Let $a, b, a', b' \in \mathbb{N}$. We'd like to characterize $a^b = a'^{b'}$. First note that $a^b$ and $a'^{b'}$ must
have the same prime factorization, so because taking powers of a number does not introduce any new prime divisors,
$a$ and $a'$ must have the same prime divisors. Let the prime factorizations of $a$ and $a'$ be
$p_1^{e_1}\cdots p_k^{e_k}$ and $p_1^{e_1'}\cdots p_k^{e_k'}$ respectively. Hence, in order for $a^b = a'^{b'}$, we
really need

$$
p_1^{e_1b} \cdots p_k^{e_k b} = p_1^{e_1'b'} \cdots p_k^{e_k' b'}
$$

or equivalently, we need all of the following: $e_1b = e_1'b'$, $\dots$, $e_kb = e_k'b'$. Since we've already written
some prime-factorization code for use in other problems, we can actually solve this problem with the following process:

1. Compute the prime factorizations of all $a$ with $2 \leq a \leq 100$ (quite slow for larger upper bounds, but 100 is quite small!)
2. Collect all pairs $(a, b)$ with $2 \leq a, b \leq 100$ and distinguish them by
   1. Their prime divisors
   2. Their prime exponents (computed from the prime exponents of $a$ and from the value of $b$)

Alternatively, we could look at all common divisors of prime exponents of numbers of the form $a^b$ (in order
to generate other representations of $a^b$ as a power), but that would require us to compute such values in the first 
place, which we're trying to avoid!